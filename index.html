<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Pendaftaran Santri</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f0f2f5;
        }
        .container {
            max-width: 900px;
            margin-top: 40px;
            margin-bottom: 40px;
        }
        .card {
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .card-header {
            background-color: #0d6efd;
            color: white;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            padding: 20px;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .form-label {
            font-weight: 600;
            color: #343a40;
        }
        .form-control, .form-select {
            border-radius: 8px;
            padding: 10px 15px;
            border: 1px solid #ced4da;
        }
        .form-control:focus, .form-select:focus {
            border-color: #86b7fe;
            box-shadow: 0 0 0 0.25rem rgba(13,110,253,.25);
        }
        .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 1.1rem;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0b5ed7;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="card">
            <div class="card-header text-center">
                Formulir Pendaftaran Santri
            </div>
            <div class="card-body p-4">
                <form id="myForm">
                    <h5 class="mb-3 mt-4 text-primary">Data Diri Santri</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="idSantri" class="form-label">ID Santri</label>
                            <input type="text" class="form-control" id="idSantri" name="idSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="namaLengkapSantri" class="form-label">Nama Lengkap</label>
                            <input type="text" class="form-control" id="namaLengkapSantri" name="namaLengkapSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="tahunMasuk" class="form-label">Tahun Masuk</label>
                            <input type="number" class="form-control" id="tahunMasuk" name="tahunMasuk" min="1900" max="2100">
                        </div>
                        <div class="col-md-6">
                            <label for="nisn" class="form-label">NISN</label>
                            <input type="text" class="form-control" id="nisn" name="nisn">
                        </div>
                        <div class="col-md-6">
                            <label for="nism" class="form-label">NISM</label>
                            <input type="text" class="form-control" id="nism" name="nism">
                        </div>
                        <div class="col-md-6">
                            <label for="nikSantri" class="form-label">NIK Santri</label>
                            <input type="text" class="form-control" id="nikSantri" name="nikSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="tempatLahirSantri" class="form-label">Tempat Lahir</label>
                            <input type="text" class="form-control" id="tempatLahirSantri" name="tempatLahirSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="tanggalLahirSantri" class="form-label">Tanggal Lahir</label>
                            <input type="date" class="form-control" id="tanggalLahirSantri" name="tanggalLahirSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="noTelpSantri" class="form-label">No. Telp/WA Santri</label>
                            <input type="tel" class="form-control" id="noTelpSantri" name="noTelpSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="noKK" class="form-label">Nomor KK</label>
                            <input type="text" class="form-control" id="noKK" name="noKK">
                        </div>
                        <div class="col-md-6">
                            <label for="jumlahSaudara" class="form-label">Jumlah Saudara</label>
                            <input type="number" class="form-control" id="jumlahSaudara" name="jumlahSaudara" min="0">
                        </div>
                        <div class="col-md-6">
                            <label for="anakKe" class="form-label">Anak ke-</label>
                            <input type="number" class="form-control" id="anakKe" name="anakKe" min="1">
                        </div>
                        <div class="col-12">
                            <label for="aktifitasPendidikan" class="form-label">Aktifitas Pendidikan</label>
                            <input type="text" class="form-control" id="aktifitasPendidikan" name="aktifitasPendidikan">
                        </div>
                        <div class="col-12">
                            <label for="yangMembiayaiSekolah" class="form-label">Yang Membiayai Sekolah</label>
                            <input type="text" class="form-control" id="yangMembiayaiSekolah" name="yangMembiayaiSekolah">
                        </div>
                        <div class="col-md-6">
                            <label for="hobi" class="form-label">Hobi</label>
                            <input type="text" class="form-control" id="hobi" name="hobi">
                        </div>
                        <div class="col-md-6">
                            <label for="citaCita" class="form-label">Cita Cita</label>
                            <input type="text" class="form-control" id="citaCita" name="citaCita">
                        </div>
                    </div>

                    <h5 class="mb-3 mt-5 text-primary">Data Ayah</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="namaAyah" class="form-label">Nama Ayah</label>
                            <input type="text" class="form-control" id="namaAyah" name="namaAyah">
                        </div>
                        <div class="col-md-6">
                            <label for="statusAyah" class="form-label">Status Ayah</label>
                            <select class="form-select" id="statusAyah" name="statusAyah">
                                <option value="">Pilih...</option>
                                <option value="Hidup">Hidup</option>
                                <option value="Meninggal">Meninggal</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="nikAyah" class="form-label">NIK Ayah</label>
                            <input type="text" class="form-control" id="nikAyah" name="nikAyah">
                        </div>
                        <div class="col-md-6">
                            <label for="tempatLahirAyah" class="form-label">Tempat Lahir Ayah</label>
                            <input type="text" class="form-control" id="tempatLahirAyah" name="tempatLahirAyah">
                        </div>
                        <div class="col-md-6">
                            <label for="tanggalLahirAyah" class="form-label">Tanggal Lahir Ayah</label>
                            <input type="date" class="form-control" id="tanggalLahirAyah" name="tanggalLahirAyah">
                        </div>
                        <div class="col-md-6">
                            <label for="pekerjaanAyah" class="form-label">Pekerjaan Ayah</label>
                            <input type="text" class="form-control" id="pekerjaanAyah" name="pekerjaanAyah">
                        </div>
                        <div class="col-12">
                            <label for="pendidikanTerakhirAyah" class="form-label">Pendidikan Terakhir Ayah</label>
                            <input type="text" class="form-control" id="pendidikanTerakhirAyah" name="pendidikanTerakhirAyah">
                        </div>
                    </div>

                    <h5 class="mb-3 mt-5 text-primary">Data Ibu</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="namaIbu" class="form-label">Nama Ibu</label>
                            <input type="text" class="form-control" id="namaIbu" name="namaIbu">
                        </div>
                        <div class="col-md-6">
                            <label for="statusIbu" class="form-label">Status Ibu</label>
                            <select class="form-select" id="statusIbu" name="statusIbu">
                                <option value="">Pilih...</option>
                                <option value="Hidup">Hidup</option>
                                <option value="Meninggal">Meninggal</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="nikIbu" class="form-label">NIK Ibu</label>
                            <input type="text" class="form-control" id="nikIbu" name="nikIbu">
                        </div>
                        <div class="col-md-6">
                            <label for="tempatLahirIbu" class="form-label">Tempat Lahir Ibu</label>
                            <input type="text" class="form-control" id="tempatLahirIbu" name="tempatLahirIbu">
                        </div>
                        <div class="col-md-6">
                            <label for="tanggalLahirIbu" class="form-label">Tanggal Lahir Ibu</label>
                            <input type="date" class="form-control" id="tanggalLahirIbu" name="tanggalLahirIbu">
                        </div>
                        <div class="col-md-6">
                            <label for="pekerjaanIbu" class="form-label">Pekerjaan Ibu</label>
                            <input type="text" class="form-control" id="pekerjaanIbu" name="pekerjaanIbu">
                        </div>
                        <div class="col-12">
                            <label for="pendidikanTerakhirIbu" class="form-label">Pendidikan Terakhir Ibu</label>
                            <input type="text" class="form-control" id="pendidikanTerakhirIbu" name="pendidikanTerakhirIbu">
                        </div>
                    </div>

                    <h5 class="mb-3 mt-5 text-primary">Kontak Orang Tua</h5>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="noTelpOrtu" class="form-label">No. Telp Orang Tua</label>
                            <input type="tel" class="form-control" id="noTelpOrtu" name="noTelpOrtu">
                        </div>
                    </div>

                    <h5 class="mb-3 mt-5 text-primary">Alamat</h5>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="provinsi" class="form-label">Provinsi</label>
                            <input type="text" class="form-control" id="provinsi" name="provinsi">
                        </div>
                        <div class="col-md-6">
                            <label for="kabupatenKota" class="form-label">Kabupaten/Kota</label>
                            <input type="text" class="form-control" id="kabupatenKota" name="kabupatenKota">
                        </div>
                        <div class="col-md-6">
                            <label for="kecamatan" class="form-label">Kecamatan</label>
                            <input type="text" class="form-control" id="kecamatan" name="kecamatan">
                        </div>
                        <div class="col-md-6">
                            <label for="kelurahanDesa" class="form-label">Kelurahan/Desa</label>
                            <input type="text" class="form-control" id="kelurahanDesa" name="kelurahanDesa">
                        </div>
                        <div class="col-md-3">
                            <label for="rt" class="form-label">RT</label>
                            <input type="text" class="form-control" id="rt" name="rt">
                        </div>
                        <div class="col-md-3">
                            <label for="rw" class="form-label">RW</label>
                            <input type="text" class="form-control" id="rw" name="rw">
                        </div>
                        <div class="col-12">
                            <label for="alamatLengkap" class="form-label">Alamat Lengkap</label>
                            <textarea class="form-control" id="alamatLengkap" name="alamatLengkap" rows="3"></textarea>
                        </div>
                        <div class="col-md-6">
                            <label for="kodePos" class="form-label">Kode Pos</label>
                            <input type="text" class="form-control" id="kodePos" name="kodePos">
                        </div>
                    </div>

                    <h5 class="mb-3 mt-5 text-primary">Informasi Tambahan</h5>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="kelengkapanBerkas" class="form-label">Kelengkapan Berkas</label>
                            <textarea class="form-control" id="kelengkapanBerkas" name="kelengkapanBerkas" rows="2"></textarea>
                        </div>
                        <div class="col-12">
                            <label for="riwayatKesehatan" class="form-label">Riwayat Kesehatan</label>
                            <textarea class="form-control" id="riwayatKesehatan" name="riwayatKesehatan" rows="2"></textarea>
                        </div>
                        <div class="col-md-6">
                            <label for="pembagianKamar" class="form-label">Pembagian Kamar</label>
                            <input type="text" class="form-control" id="pembagianKamar" name="pembagianKamar">
                        </div>
                        <div class="col-md-6">
                            <label for="statusTempatTinggal" class="form-label">Status Tempat Tinggal</label>
                            <input type="text" class="form-control" id="statusTempatTinggal" name="statusTempatTinggal">
                        </div>
                        <div class="col-md-6">
                            <label for="statusKeaktifan" class="form-label">Status Keaktifan</label>
                            <input type="text" class="form-control" id="statusKeaktifan" name="statusKeaktifan">
                        </div>
                        <div class="col-md-6">
                            <label for="statusSantri" class="form-label">Status Santri</label>
                            <input type="text" class="form-control" id="statusSantri" name="statusSantri">
                        </div>
                        <div class="col-md-6">
                            <label for="tahunBoyong" class="form-label">Tahun Boyong</label>
                            <input type="number" class="form-control" id="tahunBoyong" name="tahunBoyong" min="1900" max="2100">
                        </div>
                    </div>

                    <div class="d-grid mt-4">
                        <button type="submit" class="btn btn-primary">Kirim Data Pendaftaran</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const myForm = document.getElementById('myForm');
        // GANTI URL DI BAWAH INI dengan URL Web App Google Apps Script Anda
        const scriptURL = 'https://script.google.com/macros/s/AKfycbysuxXpCxaXfq1-BCv2m7oexDiTHk1hXIPyfB9DP1hNTCcCQHtsNQrmBDWIfymKOqPj/exec';

        myForm.addEventListener('submit', e => {
            e.preventDefault();
            const formData = new FormData(myForm);
            
            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => response.text())
                .then(result => {
                    // Periksa apakah respons dari server adalah "SUCCESS"
                    if (result.trim() === "SUCCESS") {
                        alert('Data pendaftaran santri berhasil dikirim!');
                        myForm.reset();
                    } else {
                        alert('Terjadi kesalahan dari server: ' + result);
                        console.error('Apps Script Error:', result);
                    }
                })
                .catch(error => {
                    alert('Terjadi kesalahan saat mengirim data. Silakan coba lagi. (Error jaringan)');
                    console.error('Error jaringan atau komunikasi:', error.message);
                });
        });
    </script>
</body>
</html>
